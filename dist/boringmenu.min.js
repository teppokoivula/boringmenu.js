(function () {function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(g(this,e),this.options={selectors:{menu:".boringmenu",menuItem:":scope > li"},classes:{menuItemActive:"boringmenu__item--active",menuToggle:"boringmenu__toggle",menuToggleTextContainer:"boringmenu__sr-only"},labels:{"menu.open":"Open","menu.close":"Close"},icons:{"menu.open":"fas fa-plus","menu.close":"fas fa-times"},id:"boringmenu-"+this.getID()},this.options=this.mergeOptions(t),this.menu=document.querySelector(this.options.selectors.menu),this.menu){if(this.menuNum=0,"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),this.menu.getAttribute("data-boringmenu"))try{this.options=this.mergeOptions(JSON.parse(this.menu.getAttribute("data-boringmenu")))}catch(n){}this.findSubMenus(this.menu),this.menu.dispatchEvent(new CustomEvent("boringmenu-init-done",{bubbles:!0,cancelable:!0}))}else document.dispatchEvent(new CustomEvent("boringmenu-init-done"))}return h(e,[{key:"findSubMenus",value:function(e){var t=this;e.querySelectorAll(this.options.selectors.menuItem).forEach(function(e){var n=e.querySelector("ul");n&&(t.menuNum++,n.setAttribute("id",t.options.id+"-"+t.menuNum),e.classList.contains(t.options.classes.menuItemActive)||n.querySelectorAll("."+t.options.classes.menuItemActive).length||(n.hidden=!0),n.parentNode.insertBefore(t.getMenuToggle(n),n),t.findSubMenus(n))})}},{key:"toggleMenu",value:function(e,t,n,o,i){if(e.hidden=i,t.setAttribute("aria-expanded",!e.hidden),n.nodeValue=this.options.labels[e.hidden?"menu.open":"menu.close"],null!=o){var s=this.getMenuToggleIcon(e,o);o.parentNode.replaceChild(s,o),o=s}return{menuToggleIcon:o}}},{key:"getMenuToggle",value:function(e){var t=this,n=document.createElement("button");n.classList.add(this.options.classes.menuToggle),n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-expanded",!e.hidden),n.setAttribute("aria-controls",e.getAttribute("id"));var o=document.createElement("span");this.options.classes.menuToggleTextContainer&&o.classList.add(this.options.classes.menuToggleTextContainer),n.appendChild(o);var i=document.createTextNode(this.options.labels[e.hidden?"menu.open":"menu.close"]);o.appendChild(i);var s=this.getMenuToggleIcon(e);return null!=s&&n.appendChild(s),n.addEventListener("click",function(o){o.stopPropagation();var r=t.toggleMenu(e,n,i,s,!e.hidden);null!=r.menuToggleIcon&&(s=r.menuToggleIcon)}),n.addEventListener("keydown",function(o){var r;if([40,38,13,32].indexOf(o.keyCode)>-1){o.preventDefault(),r=40!==o.keyCode&&(38===o.keyCode||!e.hidden);var u=t.toggleMenu(e,n,i,s,r);null!=u.menuToggleIcon&&(s=u.menuToggleIcon)}}),n}},{key:"getMenuToggleIcon",value:function(e,t){if(t=t||null,this.options.icons["menu.open"]&&this.options.icons["menu.close"]&&"string"==typeof(t=this.options.icons[e.hidden?"menu.open":"menu.close"])){var n=t;(t=document.createElement("i")).setAttribute("aria-hidden",!0),n.split(" ").forEach(function(e){t.classList.add(e)})}return t}},{key:"mergeOptions",value:function(e,t){null==t&&(t=this.options);for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];"object"===f(e[i])&&b(e[i],this.mergeOptions(t[i],e[i]))}return b(e||{},t),e}},{key:"getID",value:function(){return Date.now()}}]),e}();!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(n){var t=function(e,t){var r,a;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a=r.preventDefault,r.preventDefault=function(){a.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(n){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}}();try{document.querySelector(":scope *")}catch(error){!function(t){var e=/:scope(?![\w-])/gi,r=u(t.querySelector);t.querySelector=function(t){return r.apply(this,arguments)};var o=u(t.querySelectorAll);if(t.querySelectorAll=function(t){return o.apply(this,arguments)},t.matches){var c=u(t.matches);t.matches=function(t){return c.apply(this,arguments)}}if(t.closest){var n=u(t.closest);t.closest=function(t){return n.apply(this,arguments)}}function u(t){return function(r){if(r&&e.test(r)){var o="q"+Math.floor(9e6*Math.random())+1e6;arguments[0]=r.replace(e,"["+o+"]"),this.setAttribute(o,"");var c=t.apply(this,arguments);return this.removeAttribute(o),c}return t.apply(this,arguments)}}}(Element.prototype)}window.boringmenu=j;})();
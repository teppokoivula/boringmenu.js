!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(e){var n=void 0===e?{}:e;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultOptions={selectors:{menu:".boringmenu",item:":scope > li"},classes:{item:"boringmenu__item",itemActive:"boringmenu__item--active",itemParent:"boringmenu__item--parent",toggle:"boringmenu__toggle",toggleTextContainer:"boringmenu__sr-only"},labels:{"menu.open":"Open","menu.close":"Close"},icons:{"menu.open":"fas fa-plus","menu.close":"fas fa-times"},id:"boringmenu-"+this.getID()},this.polyfills(),this.options=this.mergeOptions(n),this.menu=document.querySelector(this.options.selectors.menu),this.menu){if(this.menu.setAttribute("data-boringmenu-depth",1),this.menuNum=0,this.menuObjects=[this.menu],this.menu.getAttribute("data-boringmenu"))try{this.options=this.mergeOptions(JSON.parse(this.menu.getAttribute("data-boringmenu"),this.options))}catch(e){}this.addClasses(this.menu,this.options.classes),this.findSubMenus(this.menu),this.menu.dispatchEvent(new CustomEvent("boringmenu-init-done",{bubbles:!0,cancelable:!0}))}else document.dispatchEvent(new CustomEvent("boringmenu-init-done"))}var n,i,o;return n=t,i=[{key:"addClasses",value:function(e,t){var n=window.location.pathname.replace(/\/$/,"")+"/";e.querySelectorAll("."+t.item+'[href="'+n+'"]').forEach(function(e){for(e.classList.add(t.itemActive),e=e.parentNode;e.parentNode;)if("LI"==(e=e.parentNode).tagName){var n=e.firstChild;null!==n&&n.classList.contains(t.item)&&!n.classList.contains(t.itemActive)&&n.classList.add(t.itemParent)}else if(e.matches(this.options.selectors.menu))break}.bind(this))}},{key:"findSubMenus",value:function(e,t){var n=void 0===t?2:t;e.querySelectorAll(this.options.selectors.item).forEach(function(e){var t=e.querySelector("ul");t&&(this.menuNum++,t.setAttribute("id",this.options.id+"-"+this.menuNum),t.setAttribute("data-boringmenu-depth",n),e.classList.contains(this.options.classes.itemActive)||e.querySelector("."+this.options.classes.itemActive)||(t.hidden=!0),t.parentNode.insertBefore(this.getToggle(t),t),this.menuObjects.push(t),this.findSubMenus(t,n+1))}.bind(this))}},{key:"toggleMenu",value:function(e,t,n,i,o,s){var r=void 0===s||s;if(e.hidden=o,t.setAttribute("aria-expanded",!e.hidden),n.nodeValue=this.options.labels[e.hidden?"menu.open":"menu.close"],null!=i){var u=this.getToggleIcon(e,i);i.parentNode.replaceChild(u,i),i=u}return r&&this.menu.dispatchEvent(new CustomEvent("boringmenu-menu-toggle-done",{bubbles:!0,cancelable:!0,detail:{menu:e,menuDepth:e.getAttribute("data-boringmenu-depth")}})),{menuToggleIcon:i}}},{key:"getToggle",value:function(e){var t=document.createElement("button");t.classList.add(this.options.classes.toggle),t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",!e.hidden),t.setAttribute("aria-controls",e.getAttribute("id"));var n=document.createElement("span");this.options.classes.toggleTextContainer&&n.classList.add(this.options.classes.toggleTextContainer),t.appendChild(n);var i=document.createTextNode(this.options.labels[e.hidden?"menu.open":"menu.close"]);n.appendChild(i);var o=this.getToggleIcon(e);return null!=o&&t.appendChild(o),t.addEventListener("click",function(n){n.stopPropagation();var s=this.toggleMenu(e,t,i,o,!e.hidden);null!=s.menuToggleIcon&&(o=s.menuToggleIcon)}.bind(this)),t.addEventListener("keydown",function(n){var s;if([40,38,13,32].indexOf(n.keyCode)>-1){n.preventDefault(),s=40!==n.keyCode&&(38===n.keyCode||!e.hidden);var r=this.toggleMenu(e,t,i,o,s);null!=r.menuToggleIcon&&(o=r.menuToggleIcon)}}.bind(this)),e.menuToggle=t,t}},{key:"getToggleIcon",value:function(e,t){if(t=t||null,this.options.icons["menu.open"]&&this.options.icons["menu.close"])if("string"==typeof(t=this.options.icons[e.hidden?"menu.open":"menu.close"])){var n=t;(t=document.createElement("i")).setAttribute("aria-hidden",!0),n.split(" ").forEach((function(e){t.classList.add(e)}))}else"object"==typeof t&&"function"==typeof t.cloneNode?t=t.cloneNode(!0):"function"==typeof t&&(t=t());return t}},{key:"mergeOptions",value:function(e,t){null==t&&(t=this.defaultOptions);var n=Object.keys(e);if(!n.length)return t;for(var i=0;i<n.length;i++){var o=n[i];null!==t[o]&&"object"==typeof t[o]&&Object.assign(e[o],this.mergeOptions(t[o],e[o]))}return Object.assign(e||{},t),e}},{key:"getID",value:function(){return Date.now()}},{key:"getMenu",value:function(){return this.menu}},{key:"getMenuObjects",value:function(){return this.menuObjects}},{key:"polyfills",value:function(){"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},writable:!0,configurable:!0})}}],i&&e(n.prototype,i),o&&e(n,o),t}();!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}();try{document.querySelector(":scope *")}catch(e){!function(e){var t=/:scope(?![\w-])/gi,n=r(e.querySelector);e.querySelector=function(e){return n.apply(this,arguments)};var i=r(e.querySelectorAll);if(e.querySelectorAll=function(e){return i.apply(this,arguments)},e.matches){var o=r(e.matches);e.matches=function(e){return o.apply(this,arguments)}}if(e.closest){var s=r(e.closest);e.closest=function(e){return s.apply(this,arguments)}}function r(e){return function(n){var i=n&&t.test(n);if(i){var o="q"+Math.floor(9e6*Math.random())+1e6;arguments[0]=n.replace(t,"["+o+"]"),this.setAttribute(o,"");var s=e.apply(this,arguments);return this.removeAttribute(o),s}return e.apply(this,arguments)}}}(Element.prototype)}window.boringmenu=t}();
//# sourceMappingURL=boringmenu.min.js.map
